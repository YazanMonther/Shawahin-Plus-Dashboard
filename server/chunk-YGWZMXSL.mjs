import './polyfills.server.mjs';
import{a as P,b as F}from"./chunk-7I7L2KFM.mjs";import{a as O,b as T,c as w}from"./chunk-UHVBUIAZ.mjs";import{H as Y,I as Z,J as tt,a as M,b as _,k as p,u as X}from"./chunk-65BLW562.mjs";import{A as E,Ab as G,Da as i,Db as W,Ea as e,F as L,Fa as D,I as j,J as U,Jb as K,K as S,Kb as J,Ma as y,Na as N,Ob as Q,Ra as n,Sa as c,Ua as g,Va as H,Wa as b,Xa as x,Ya as V,cc as q,d as R,fc as I,h as A,ja as s,ka as m,s as B,sa as h,ya as z}from"./chunk-2BUOXUC6.mjs";import{h as f}from"./chunk-KRLCULJA.mjs";function rt(l,r){if(l&1&&(i(0,"div",1)(1,"div",2)(2,"div",3),n(3,"ID:"),e(),i(4,"div",4),n(5),e()(),i(6,"div",2)(7,"div",3),n(8,"Status:"),e(),i(9,"div",4),n(10),e()(),i(11,"div",2)(12,"div",3),n(13,"Parking Type:"),e(),i(14,"div",4),n(15),e()(),i(16,"div",2)(17,"div",3),n(18,"Sunday Schedule:"),e(),i(19,"div",4),n(20),e()(),i(21,"div",2)(22,"div",3),n(23,"Monday Schedule:"),e(),i(24,"div",4),n(25),e()(),i(26,"div",2)(27,"div",3),n(28,"Tuesday Schedule:"),e(),i(29,"div",4),n(30),e()(),i(31,"div",2)(32,"div",3),n(33,"Wednesday Schedule:"),e(),i(34,"div",4),n(35),e()(),i(36,"div",2)(37,"div",3),n(38,"Thursday Schedule:"),e(),i(39,"div",4),n(40),e()(),i(41,"div",2)(42,"div",3),n(43,"Friday Schedule:"),e(),i(44,"div",4),n(45),e()(),i(46,"div",2)(47,"div",3),n(48,"Saturday Schedule:"),e(),i(49,"div",4),n(50),e()(),i(51,"div",2)(52,"div",3),n(53,"Charger Cost:"),e(),i(54,"div",4),n(55),e()(),i(56,"div",2)(57,"div",3),n(58,"User ID:"),e(),i(59,"div",4),n(60),e()(),i(61,"div",2)(62,"div",3),n(63,"Charger Status:"),e(),i(64,"div",4),n(65),e()(),i(66,"div",2)(67,"div",3),n(68,"Location:"),e(),i(69,"div",4),n(70),e()(),i(71,"div",2)(72,"div",3),n(73,"Address:"),e(),i(74,"div",4),n(75),e()(),i(76,"div",2)(77,"div",3),n(78,"Country:"),e(),i(79,"div",4),n(80),e()(),i(81,"div",2)(82,"div",3),n(83,"Charger Type:"),e(),i(84,"div",4),n(85),e()(),i(86,"div",2)(87,"div",3),n(88,"Power (kW):"),e(),i(89,"div",4),n(90),e()(),i(91,"div",2)(92,"div",3),n(93,"Electric Type:"),e(),i(94,"div",4),n(95),e()(),i(96,"div",2)(97,"div",3),n(98,"Station Name:"),e(),i(99,"div",4),n(100),e()(),i(101,"div",2)(102,"div",3),n(103,"Charger Image URL:"),e(),i(104,"div",4),n(105),e()(),i(106,"div",2)(107,"div",3),n(108,"Contact Name:"),e(),i(109,"div",4),n(110),e()(),i(111,"div",2)(112,"div",3),n(113,"Email:"),e(),i(114,"div",4),n(115),e()(),i(116,"div",2)(117,"div",3),n(118,"Phone:"),e(),i(119,"div",4),n(120),e()(),i(121,"div",2)(122,"div",3),n(123,"Payment Method:"),e(),i(124,"div",4),n(125),e()(),i(126,"div",2)(127,"div",3),n(128,"Payment Type:"),e(),i(129,"div",4),n(130),e()()()),l&2){let a=N();s(5),g("",a.Data.requestId," ",a.Data.stationId,""),s(5),c(a.Data.requestStatus),s(5),c(a.Data.parkingType),s(5),g(" ",a.Data.sundayStartTime," - ",a.Data.sundayEndTime," "),s(5),g(" ",a.Data.mondayStartTime," - ",a.Data.mondayEndTime," "),s(5),g(" ",a.Data.tuesdayStartTime," - ",a.Data.tuesdayEndTime," "),s(5),g(" ",a.Data.wednesdayStartTime," - ",a.Data.wednesdayEndTime," "),s(5),g(" ",a.Data.thursdayStartTime," - ",a.Data.thursdayEndTime," "),s(5),g(" ",a.Data.fridayStartTime," - ",a.Data.fridayEndTime," "),s(5),g(" ",a.Data.saturdayStartTime," - ",a.Data.saturdayEndTime," "),s(5),c(a.Data.chargerCost),s(5),c(a.Data.userId),s(5),c(a.Data.chargerStatus),s(5),g(" Latitude: ",a.Data.latitude,", Longitude: ",a.Data.longitude," "),s(5),H(" ",a.Data.buildingNumber,", ",a.Data.streetName,", ",a.Data.town,", ",a.Data.city," "),s(5),c(a.Data.country),s(5),c(a.Data.chargerType),s(5),c(a.Data.powerKw),s(5),c(a.Data.electricType),s(5),c(a.Data.stationName),s(5),c(a.Data.chargerImageUrl),s(5),c(a.Data.contactName),s(5),c(a.Data.email),s(5),c(a.Data.phone),s(5),c(a.Data.paymentMethod),s(5),c(a.Data.paymentType)}}var $=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=S({type:r,selectors:[["app-details-view"]],inputs:{Data:"Data"},standalone:!0,features:[x],decls:1,vars:1,consts:[["class","details-container",4,"ngIf"],[1,"details-container"],[1,"detail-item"],[1,"label"],[1,"value"]],template:function(o,d){o&1&&z(0,rt,131,38,"div",0),o&2&&h("ngIf",d.Data)},dependencies:[G],styles:[".details-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;border:1px solid #ccc;border-radius:8px;box-shadow:0 0 10px #0000001a;background-color:#fff}.details-container[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid #ccc;padding:10px}.details-container[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}"]});let l=r;return l})();var it=(()=>{let r=class r{constructor(t,o,d,u){this.route=t,this.requestService=o,this.dialog=d,this.router=u,this.isLoading=!0,this.destroy$=new R,this.route.params.pipe(E(this.destroy$)).subscribe(v=>f(this,null,function*(){this.RequestId=v.requestId,console.log("Request ID:",this.RequestId),yield this.getRequestData(this.RequestId.toString())}))}ngOnInit(){return f(this,null,function*(){})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getRequestData(t){return f(this,null,function*(){console.log(t);try{this.requestData=yield this.requestService.getReqById(t).toPromise(),console.log("Request Data:",this.requestData)}catch(o){console.error("Error fetching data:",o)}finally{this.isLoading=!1}})}openConfirmationDialog(t){let o=this.dialog.open(T,{width:"300px",data:{title:"Confirmation",message:`Are you sure you want to ${t}?`}});o.componentInstance.cancelButtonClass=t==="accept"?"red-button":"green-button",o.componentInstance.acceptButtonClass=t==="accept"?"green-button":"red-button",o.componentInstance.buutonText=t,o.afterClosed().subscribe(d=>{d&&(t=="accept"?this.acceptRequest():t=="deny"?this.denyRequest():t=="remove"&&this.removeRequest())})}openResponseDialog(t){this.dialog.open(w,{width:"400px",data:t}).afterClosed().subscribe(()=>{console.log("Response dialog closed"),this.router.navigateByUrl("pages/stations")})}acceptRequest(){this.requestService.acceptRequest(this.RequestId).subscribe(t=>{console.log("Request accepted:",t),console.log("Response Message:",t.message),this.openResponseDialog(t.message)},t=>{console.error("Error accepting request:",t),this.openResponseDialog(t)})}denyRequest(){this.requestService.denayRequest(this.RequestId).subscribe(t=>{console.log("Request response denied:",t),console.log("Response Message:",t.message),this.openResponseDialog(t.message)},t=>{console.error("Error denaying request:",t),this.openResponseDialog(t)}),console.log("Request denied:",this.RequestId)}removeRequest(){this.requestService.removeRequest(this.RequestId).subscribe(t=>{console.log("Request response removed:",t),console.log("Response Message:",t.message),this.openResponseDialog(t.message)},t=>{console.error("Error removing request:",t),this.openResponseDialog(t)}),console.log("Request removed:",this.RequestId)}};r.\u0275fac=function(o){return new(o||r)(m(q),m(P),m(O),m(I))},r.\u0275cmp=S({type:r,selectors:[["app-request-details"]],standalone:!0,features:[b([P]),x],decls:12,vars:1,consts:[[1,"request-details"],[1,"header"],[3,"Data"],[1,"action-buttons"],[1,"accept-button",3,"click"],[1,"deny-button",3,"click"],[1,"remove-button",3,"click"]],template:function(o,d){o&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Request Details"),e()(),D(4,"app-details-view",2),i(5,"div",3)(6,"button",4),y("click",function(){return d.openConfirmationDialog("accept")}),n(7," Accept "),e(),i(8,"button",5),y("click",function(){return d.openConfirmationDialog("deny")}),n(9," Deny "),e(),i(10,"button",6),y("click",function(){return d.openConfirmationDialog("remove")}),n(11," Remove "),e()()()),o&2&&(s(4),h("Data",d.requestData))},dependencies:[W,$],styles:[".request-details[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#080710;color:#333;margin:30px 0 0;padding:0}.request-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#ff833e;color:#fff;padding:10px;text-align:center}.request-details[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.request-details[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .accept-button[_ngcontent-%COMP%], .request-details[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .deny-button[_ngcontent-%COMP%], .request-details[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{padding:10px;font-size:16px;cursor:pointer;border:none;border-radius:5px}.request-details[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .accept-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.request-details[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .deny-button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.request-details[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background-color:#333;color:#fff}"]});let l=r;return l})();var C=(()=>{let r=class r{constructor(t,o){this.Http=t,this.localStorageService=o,this.getAllStations="ChargingStations/GetAll",this.getById="ChargingStations/GetbyId",this.authToken=this.localStorageService.getToken(),this.deleteStations="ChargingStations/Remove",this.getByUser="/api/ChargingStations/GetbyUserId/{userId}",this.headers=new K({"Content-Type":"application/json",Authorization:`bearer ${this.authToken}`}),this.getAll=()=>this.Http.get(`${M}/${this.getAllStations}`,{headers:this.headers}),this.geById=d=>this.Http.get(`${M}/${this.getById}/${d}`,{headers:this.headers}),this.removeStation=d=>{if(!this.authToken)return A("Authentication token is missing");let u={headers:this.headers};return this.Http.delete(`${M}/${this.deleteStations}/${d}`,u).pipe(B(v=>{console.error("Error:",v);let at=v.error?v.error:"Something went wrong";return A(at)}))}}getUserIdFromLocalStorage(){return console.log(this.localStorageService.getUserId()),console.log(`token : ${this.authToken}`),this.localStorageService.getUserId()||""}};r.\u0275fac=function(o){return new(o||r)(j(J),j(_))},r.\u0275prov=L({token:r,factory:r.\u0275fac,providedIn:"root"});let l=r;return l})();var ct=()=>[5,10,25,100],nt=(()=>{let r=class r{constructor(t,o){this.router=t,this.localStorage=o,this.IdType="stationId",this.acceptedService=U(C),this.dataSource=new X,this.displayedColumns=["stationId","chargerCost","chargerStatus","country","chargerType","stationName","contactName","email","phone","paymentMethod","paymentType"]}onRowClick(t){console.log("Row Clicked. StationId:",t),this.router.navigate([`${p.stations}/${p.stationDetails}/${t}`])}ngOnInit(){this.getAllRequests().subscribe(t=>{this.dataSource.data=t}),this.localStorage.setLastVisitedRoute(`/${p.stations}/${p.acceptedStations}`)}getAllRequests(){return this.acceptedService.getAll()}};r.\u0275fac=function(o){return new(o||r)(m(I),m(_))},r.\u0275cmp=S({type:r,selectors:[["app-accepted-stations"]],standalone:!0,features:[b([C]),x],decls:5,vars:6,consts:[[1,"mat-elevation-z8"],[3,"dataSource","displayedColumns","pageSizeOptions","IdType","rowClick"],["showFirstLastButtons","",3,"pageSizeOptions"]],template:function(o,d){o&1&&(i(0,"h2"),n(1,"Accepted Stations"),e(),i(2,"div",0)(3,"app-table",1),y("rowClick",function(v){return d.onRowClick(v)}),e(),D(4,"mat-paginator",2),e()),o&2&&(s(3),h("dataSource",d.dataSource.data)("displayedColumns",d.displayedColumns)("pageSizeOptions",d.pageSizeOptions)("IdType",d.IdType),s(1),h("pageSizeOptions",V(5,ct)))},dependencies:[Z,Y,Q,tt],styles:["h2[_ngcontent-%COMP%]{margin-top:20px}"]});let l=r;return l})();var ot=(()=>{let r=class r{constructor(t,o,d,u){this.route=t,this.StationsService=o,this.dialog=d,this.router=u,this.isLoading=!0,this.destroy$=new R,this.route.params.pipe(E(this.destroy$)).subscribe(v=>f(this,null,function*(){this.StationId=v.stationId,console.log("station ID:",this.StationId),yield this.getStationData(this.StationId.toString())}))}ngOnInit(){return f(this,null,function*(){})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getStationData(t){return f(this,null,function*(){console.log(t);try{this.Data=yield this.StationsService.geById(t).toPromise(),console.log("Request Data:",this.StationsService)}catch(o){console.error("Error fetching data:",o)}finally{this.isLoading=!1}})}openConfirmationDialog(t){let o=this.dialog.open(T,{width:"300px",data:{title:"Confirmation",message:`Are you sure you want to ${t}?`}});o.componentInstance.cancelButtonClass=t==="accept"?"red-button":"green-button",o.componentInstance.acceptButtonClass=t==="accept"?"green-button":"red-button",o.componentInstance.buutonText=t,o.afterClosed().subscribe(d=>{t=="Delete"&&this.RemoveStation()})}openResponseDialog(t){this.dialog.open(w,{width:"400px",data:t}).afterClosed().subscribe(()=>{console.log("Response dialog closed"),this.router.navigateByUrl(`pages/stations/${p.acceptedStations}`)})}RemoveStation(){this.StationsService.removeStation(this.StationId).subscribe(t=>{console.log("Station response denied:",t),console.log("Response Message:",t.message),this.openResponseDialog(t.message)},t=>{console.error("Error denaying request:",t),this.openResponseDialog(t)}),console.log("Request denied:",this.StationId)}};r.\u0275fac=function(o){return new(o||r)(m(q),m(C),m(O),m(I))},r.\u0275cmp=S({type:r,selectors:[["app-station-details"]],standalone:!0,features:[b([C]),x],decls:8,vars:1,consts:[[1,"station-details"],[1,"header"],[3,"Data"],[1,"action-buttons"],[1,"remove-button",3,"click"]],template:function(o,d){o&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Station Details"),e()(),D(4,"app-details-view",2),i(5,"div",3)(6,"button",4),y("click",function(){return d.openConfirmationDialog("Delete")}),n(7," Delete "),e()()()),o&2&&(s(4),h("Data",d.Data))},dependencies:[$],styles:[".station-details[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#080710;color:#333;margin:30px 0 0;padding:0}.station-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#ff833e;color:#fff;padding:10px;text-align:center}.station-details[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.station-details[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{padding:10px;font-size:16px;cursor:pointer;border:none;border-radius:5px}.station-details[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}"]});let l=r;return l})();var Qt=[{path:`${p.requestDetails}/:requestId`,component:it},{path:`${p.stationDetails}/:stationId`,component:ot},{path:`${p.stationsRequest}`,component:F},{path:`${p.acceptedStations}`,component:nt},{path:"",component:F}];export{Qt as StaitonRoute};
