import './polyfills.server.mjs';
import{c as ee}from"./chunk-CHOL4B2P.mjs";import{a as ie,b as C,c as re,d as ae,e as se,f as ce,g as le,h as pe,i as de,j as me,k as E}from"./chunk-65BLW562.mjs";import{$b as Z,Ab as _,C as D,Da as i,Db as J,Ea as r,F as O,Fa as c,Ga as z,Ha as q,I as U,J as N,K as l,Kb as Y,Ma as h,Mb as K,Na as V,Nb as Q,Qa as H,Ra as a,Sb as W,Ta as $,Tb as X,Xa as d,bc as te,cc as ne,dc as v,e as j,fb as B,fc as y,gc as b,h as A,hc as x,ic as oe,ja as k,jc as m,ka as p,q as T,rb as G,s as F,sa as u,ya as P}from"./chunk-2BUOXUC6.mjs";var M=(()=>{let e=class e{constructor(){this.currentUserSubject=new j(void 0),this.currentUserObservable=this.currentUserSubject.asObservable()}setUser(o){this.currentUserSubject.next(o)}isUserLoggedIn(){let o=this.currentUserSubject.value;return o!=null}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var L=(()=>{let e=class e{constructor(o){this.http=o,this.loginUrl=`${ie}/Auth/login`,this.loggedCh=N(M)}login(o){return this.http.post(this.loginUrl,o).pipe(D(t=>{let s={accessToken:t.accessToken,userProfile:t.userProfile};console.log(s.accessToken),document.cookie=`jwt=${s.accessToken}; Secure; SameSite=Strict`,localStorage.setItem("currentUser",JSON.stringify(s)),this.loggedCh.setUser(s)}),F(t=>(console.error("Login failed:",t),t.status===400&&t.error.message,A("Login failed"))))}logout(){localStorage.removeItem("currentUser")}};e.\u0275fac=function(t){return new(t||e)(U(Y))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var he=(()=>{let e=class e{constructor(o,t){this.logout=o,this.LocalStorage=t}LogOut(){this.logout.logout(),this.LocalStorage.setLastVisitedRoute(""),window.location.reload()}};e.\u0275fac=function(t){return new(t||e)(p(L),p(C))},e.\u0275cmp=l({type:e,selectors:[["app-navbar"]],standalone:!0,features:[d],decls:18,vars:0,consts:[["id","sidebar"],[1,"logo-container"],["href","../"],["src","assets/logo.svg","alt","Company Logo",1,"logo"],["routerLink","dashboard","routerLinkActive","active",1,"sidebar-link"],[1,"fas","fa-tachometer-alt"],["routerLink","pages/stations","routerLinkActive","active",1,"sidebar-link"],[1,"fas","fa-map-marker-alt"],["routerLink","pages/services","routerLinkActive","active",1,"sidebar-link"],[1,"fas","fa-service-marker-alt"],[1,"sidebar-link",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(t,s){t&1&&(i(0,"div",0)(1,"div",1)(2,"a",2),c(3,"img",3),r()(),i(4,"ul")(5,"li")(6,"a",4),a(7," Dashboard "),c(8,"i",5),r(),i(9,"a",6),a(10," Stations "),c(11,"i",7),r(),i(12,"a",8),a(13," Services "),c(14,"i",9),r(),i(15,"a",10),h("click",function(){return s.LogOut()}),a(16," Log Out "),c(17,"i",11),r()()()())},dependencies:[m,b,x],styles:["#sidebar[_ngcontent-%COMP%]{flex:0 0 auto;background-color:#333;padding:20px;color:#fff;box-sizing:border-box;overflow-y:auto;height:100vh}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.logo-container[_ngcontent-%COMP%]   img.logo[_ngcontent-%COMP%]{height:100px}#sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}#sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;display:block;padding:8px;cursor:pointer}#sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ff833e}.active[_ngcontent-%COMP%]{font-weight:700;background-color:#ff833e}.sidebar-link[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;text-decoration:none;color:#333;transition:background-color .3s}.sidebar-link[_ngcontent-%COMP%]:hover{background-color:#ecf0f1}.sidebar-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px}"]});let n=e;return n})();var ve=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-header"]],standalone:!0,features:[d],decls:9,vars:0,consts:[[1,"app-header"],[1,"search-bar"],["type","text","placeholder","Search",1,"search-input"],[1,"fas","fa-search","search-icon"],[1,"user-info-container"],[1,"user-details"],["src","assets/profile.png","alt","User Photo",1,"user-photo"],[1,"user-name"]],template:function(t,s){t&1&&(i(0,"header",0)(1,"div",1),c(2,"input",2)(3,"i",3),r(),i(4,"div",4)(5,"div",5),c(6,"img",6),i(7,"div",7),a(8,"Helo! Yazan"),r()()()())},styles:[".app-header[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:row-reverse;justify-content:space-between;align-items:center;padding:10px;border-bottom:#ff833e outset;color:#333;margin-bottom:25px}.user-info-container[_ngcontent-%COMP%], .user-details[_ngcontent-%COMP%]{display:flex;align-items:center}.user-photo[_ngcontent-%COMP%]{border-radius:50%;height:40px;margin-left:30px}.user-name[_ngcontent-%COMP%]{font-weight:700;margin-left:30px}.user-icon[_ngcontent-%COMP%]{margin-left:30px}.header-icons[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:30px}.notification-icon[_ngcontent-%COMP%], .moon-icon[_ngcontent-%COMP%], .sun-icon[_ngcontent-%COMP%]{margin-left:30px}.search-bar[_ngcontent-%COMP%]{display:flex;align-items:center}.search-bar[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{border:none;padding:5px;margin-right:5px;background-color:#ecf0f1;border-radius:4px}.search-bar[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#333}"]});let n=e;return n})();var R=class{constructor(){this.email="",this.password=""}};function _e(n,e){if(n&1&&(i(0,"div",11),a(1),r()),n&2){let Pe=V();k(1),$(" ",Pe.errorMessage," ")}}var S=(()=>{let e=class e{constructor(o,t,s){this.authService=o,this.log=t,this.router=s,this.username="",this.password="",this.errorMessage=""}onSubmit(){let o=new R;o.email=this.username,o.password=this.password,this.authService.login(o).subscribe(()=>{console.log("Authentication successful"),this.router.navigate(["/dashboard"]),window.location.reload()},t=>{console.error("Authentication failed:",t),this.errorMessage="Invalid username or password"})}};e.\u0275fac=function(t){return new(t||e)(p(L),p(M),p(y))},e.\u0275cmp=l({type:e,selectors:[["app-login"]],standalone:!0,features:[d],decls:19,vars:3,consts:[[1,"background"],[1,"shape"],[1,"login-container"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["class","error-message","style","color: red",4,"ngIf"],["type","submit"],[1,"error-message",2,"color","red"]],template:function(t,s){t&1&&(i(0,"body")(1,"div",0),c(2,"div",1)(3,"div",1),r(),i(4,"div",2)(5,"form",3),h("ngSubmit",function(){return s.onSubmit()}),i(6,"h3"),a(7,"Login Here"),r(),i(8,"div",4)(9,"label",5),a(10,"Username"),r(),i(11,"input",6),h("ngModelChange",function(I){return s.username=I}),r()(),i(12,"div",4)(13,"label",7),a(14,"Password"),r(),i(15,"input",8),h("ngModelChange",function(I){return s.password=I}),r()(),P(16,_e,2,1,"div",9),i(17,"button",10),a(18,"Log In"),r()()()()),t&2&&(k(11),u("ngModel",s.username),k(4),u("ngModel",s.password),k(1),u("ngIf",s.errorMessage))},dependencies:[me,pe,re,ae,se,de,le,ce,_],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{padding:0;margin:0;box-sizing:border-box}body[_ngcontent-%COMP%]{background-color:#080710}.background[_ngcontent-%COMP%]{width:430px;height:520px;position:absolute;transform:translate(-50%,-50%);left:50%;top:50%}.background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{height:200px;width:200px;position:absolute;border-radius:50%}.shape[_ngcontent-%COMP%]:first-child{background:linear-gradient(#1845ad,#23a2f6);left:-80px;top:-80px}.shape[_ngcontent-%COMP%]:last-child{background:linear-gradient(to right,#ff512f,#f09819);right:-30px;bottom:-80px}form[_ngcontent-%COMP%]{height:520px;width:400px;background-color:#ffffff21;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;border-radius:10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.1);box-shadow:0 0 40px #08071099;padding:50px 35px}form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#fff;letter-spacing:.5px;outline:none;border:none}form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:500;line-height:42px;text-align:center}label[_ngcontent-%COMP%]{display:block;margin-top:30px;font-size:16px;font-weight:500}input[_ngcontent-%COMP%]{display:block;height:50px;width:100%;background-color:#ffffff12;border-radius:3px;padding:0 10px;margin-top:8px;font-size:14px;font-weight:300}[_ngcontent-%COMP%]::placeholder{color:#e5e5e5}button[_ngcontent-%COMP%]{margin-top:50px;width:100%;background-color:#000;color:#000;padding:15px 0;font-size:18px;font-weight:600;border-radius:5px;cursor:pointer}.social[_ngcontent-%COMP%]{margin-top:30px;display:flex}.social[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:red;width:150px;border-radius:3px;padding:5px 10px 10px 5px;background-color:#ffffff45;color:#eaf0fb;text-align:center}.social[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#ffffff78}.social[_ngcontent-%COMP%]   .fb[_ngcontent-%COMP%]{margin-left:25px}.social[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.error-message[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;color:#ff512f}"]});let n=e;return n})();function ye(n,e){n&1&&(z(0),i(1,"div",2),c(2,"app-navbar"),i(3,"div",3),c(4,"app-header")(5,"router-outlet"),r()(),q())}function Le(n,e){n&1&&c(0,"app-login")}var be=(()=>{let e=class e{constructor(o,t,s,f){this.log=o,this.router=t,this.localStorageService=s,this.route=f,this.isLoggedIn=!1,this.currentRoute="",this.title="Shawahin-dashboard"}ngOnInit(){let o=this.localStorageService.getToken();this.currentRoute=this.localStorageService.getLastVisitedRoute(),this.router.events.pipe(T(t=>t instanceof te)).subscribe(()=>{this.currentRoute=this.route.snapshot.firstChild?.routeConfig?.path||"",this.localStorageService.setLastVisitedRoute(this.currentRoute)}),o&&this.currentRoute.length>1?(this.log.setUser(this.localStorageService.getUserData()),console.log("if 1"+this.currentRoute),this.currentRoute===""||this.currentRoute==="Login"?(console.log("if 2"+this.currentRoute),this.isLoggedIn=!1,this.router.navigate(["Login"])):(console.log("if 3"+this.currentRoute),this.isLoggedIn=!0,this.router.navigate([`${this.currentRoute}`]))):(console.log("if 4"+this.currentRoute),this.isLoggedIn=!1,this.router.navigate(["Login"]))}};e.\u0275fac=function(t){return new(t||e)(p(M),p(y),p(C),p(ne))},e.\u0275cmp=l({type:e,selectors:[["app-root"]],standalone:!0,features:[d],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loginTemplate",""],["id","container"],["id","content"]],template:function(t,s){if(t&1&&P(0,ye,6,0,"ng-container",0)(1,Le,1,0,"ng-template",null,1,B),t&2){let f=H(2);u("ngIf",s.isLoggedIn)("ngIfElse",f)}},dependencies:[J,_,m,v,he,ve,S],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;background-color:#080710}#container[_ngcontent-%COMP%]{display:flex;height:100vh}#content[_ngcontent-%COMP%]{flex:1;padding:20px;box-sizing:border-box;overflow:auto}"]});let n=e;return n})();var xe=(()=>{let e=class e{constructor(o){this.localStorage=o}ngOnInit(){console.log("form dashboard componet"),this.localStorage.setLastVisitedRoute("/dashboard")}};e.\u0275fac=function(t){return new(t||e)(p(C))},e.\u0275cmp=l({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[d],decls:2,vars:0,template:function(t,s){t&1&&(i(0,"p"),a(1,"dashboard works!"),r())}});let n=e;return n})();var Ce=(()=>{let e=class e{isLinkActive(o){return location.pathname===o}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-statoins"]],standalone:!0,features:[d],decls:12,vars:0,consts:[["routerLink","Requests","routerLinkActive","active",1,"nav-link","-link"],[1,"fas","fa-cogs"],[1,"badge"],["routerLink","Accepted-Stations","routerLinkActive","active",1,"nav-link","-link"],[1,"fas","fa-check-circle"]],template:function(t,s){t&1&&(i(0,"nav")(1,"a",0),c(2,"i",1),a(3," Stations Request "),i(4,"span",2),a(5,"10"),r()(),i(6,"a",3),c(7,"i",4),a(8," Accepted Stations "),i(9,"span",2),a(10,"5"),r()()(),c(11,"router-outlet"))},dependencies:[m,v,b,x],styles:["nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:60px}.nav-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:14px;padding:10px;border-radius:5px;display:flex;align-items:center;position:relative;transition:background-color .3s}.-link[_ngcontent-%COMP%]{background-color:#333;height:75px;width:80px;border-radius:4px}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{background-color:#ff833e}i[_ngcontent-%COMP%]{margin-right:5px}.badge[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border-radius:50%;padding:5px;position:absolute;top:0;right:0}"]});let n=e;return n})();var Me=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-services"]],standalone:!0,features:[d],decls:12,vars:0,consts:[["routerLink","Requests","routerLinkActive","active",1,"nav-link","-link"],[1,"fas","fa-cogs"],[1,"badge"],["routerLink","Accepted-Services","routerLinkActive","active",1,"nav-link","-link"],[1,"fas","fa-check-circle"]],template:function(t,s){t&1&&(i(0,"nav")(1,"a",0),c(2,"i",1),a(3," Service Request "),i(4,"span",2),a(5,"10"),r()(),i(6,"a",3),c(7,"i",4),a(8," Accepted Services "),i(9,"span",2),a(10,"5"),r()()(),c(11,"router-outlet"))},dependencies:[m,v,b,x],styles:["nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:60px}.nav-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:14px;padding:10px;border-radius:5px;display:flex;align-items:center;position:relative;transition:background-color .3s}.-link[_ngcontent-%COMP%]{background-color:#333;height:75px;width:80px;border-radius:4px}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{background-color:#ff833e}i[_ngcontent-%COMP%]{margin-right:5px}.badge[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border-radius:50%;padding:5px;position:absolute;top:0;right:0}"]});let n=e;return n})();var ke=[{path:"dashboard",component:xe},{path:`${E.stations}`,component:Ce,loadChildren:()=>import("./chunk-YGWZMXSL.mjs").then(n=>n.StaitonRoute)},{path:`${E.services}`,component:Me,loadChildren:()=>import("./chunk-XUJJIHEA.mjs").then(n=>n.ServiceRoute)},{path:"",component:S},{path:"Login",component:S}];var Se={providers:[oe(ke),X(),Z(),K(Q())]};var we={providers:[ee()]},Oe=G(Se,we);var Re=()=>W(be,Oe),wt=Re;export{wt as a};
